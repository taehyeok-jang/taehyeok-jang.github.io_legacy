I"ï]<h2 id="4-master-operation">4. Master Operation</h2>

<p>masterëŠ” file systemê³¼ ê´€ë ¨ëœ ëª¨ë“  system-wideí•œ ë™ì‘ë“¤ì„ ìˆ˜í–‰í•œë‹¤.</p>

<ul>
  <li>all namespace operations of files and directories</li>
  <li>replica placement decision</li>
  <li>create, re-replicate, rebalance chunks</li>
  <li>reclaim unused storage</li>
</ul>

<h3 id="41-namespace-management-and-locking">4.1 Namespace Management and Locking</h3>

<p>ì—¬ëŸ¬ master operationì€ ì‹œê°„ì´ ìƒë‹¹íˆ ì†Œìš”ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ snaphostì˜ ê²½ìš° leaseë¥¼ revoke ì‹œí‚¤ëŠ” ê²½ìš° ëª¨ë“  chunkserverì— ëŒ€í•´ì„œ leaseë¥¼ revoke í•´ì•¼í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ, ìš°ë¦¬ëŠ” ì ì ˆí•œ serialization (operationë“¤ì„ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒ) ì—¬ëŸ¬ operationë“¤ì´ activeí•˜ê²Œ í•˜ê³  ê° namespaceì˜ regionë³„ë¡œ lockì„ ì‚¬ìš©í•œë‹¤.</p>

<p>ì „í†µì ì¸ file systemê³¼ ë‹¤ë¥´ê²Œ GFSëŠ” per-directory data structureë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©° fileì´ë‚˜ directoryì— ëŒ€í•œ alias (hard or symbolic links in Unix terms)ë„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. GFSëŠ” full pathnameì„ metadataì— mapping í•˜ëŠ” lookup tableì„ í†µí•´ì„œ logcialí•˜ê²Œ namespaceë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. prefix compressionì„ í†µí•´ì„œ íš¨ê³¼ì ìœ¼ë¡œ memoryì— ì €ì¥í•  ìˆ˜ ìˆë‹¤. namespace treeì— ìˆëŠ” ê° nodeëŠ” ê´€ë ¨ëœ read-write lockì„ ê°–ëŠ”ë‹¤.</p>

<p>ê° master operationì€ ì‹¤í–‰ë˜ê¸° ì „ ì—¬ëŸ¬ lockì„ íšë“í•œë‹¤. ë³´í†µ /d1/d2/â€¦/dn/leafì— ëŒ€í•´ì„œ operationì„ ìˆ˜í–‰í•˜ë©´ dirctory /d1, /d1/d2, â€¦, /d1/d2/â€¦/dnì— ëŒ€í•´ì„œ read lockì„ ì–»ê³  full pathname /d1/d2/â€¦/dn/leafì— ëŒ€í•´ì„œ write lockì„ ì–»ëŠ”ë‹¤.</p>

<p>GFS locking schemeì˜ ì¢‹ì€ ì ì€ ê°™ì€ directory ë‚´ë¶€ì—ì„œ concurrent mutationì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í•œ directory ë‚´ì—ì„œ ì—¬ëŸ¬ íŒŒì¼ ìƒì„±ì´ ì¼ì–´ë‚  ë•Œ ê° mutationì€ directoryì— ëŒ€í•´ read lockì„ ì–»ê³  file nameì— ëŒ€í•´ write lockì„ ì–»ëŠ”ë‹¤. read lockì€ í•´ë‹¹ directoryê°€ ë³€ê²½, ì‚­ì œë˜ëŠ” ê²ƒì„ ë§‰ê³  write lockì€ ê°™ì€ file nameì— ëŒ€í•œ ì‹œë„ë¥¼ serializeí•˜ì—¬ ì²˜ë¦¬í•œë‹¤.</p>

<p>namespaceê°€ ì—¬ëŸ¬ nodeë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— read-write lockì€ lazyí•˜ê²Œ í• ë‹¹ë˜ë©° ì‚¬ìš©ë˜ì§€ ì•Šì„ ë•Œ í•œë²ˆì— ì‚­ì œëœë‹¤. ë˜í•œ lockì€ deadlockì„ ë°©ì§€í•˜ê¸° ìœ„í•´ consistent total orderë¡œ íšë“ëœë‹¤.</p>

<h3 id="42-replica-placement">4.2 Replica Placement</h3>

<p>GFS clusterëŠ” replica factorê°€ 1ë³´ë‹¤ í¬ê²Œ ë¶„ì‚°ë˜ì–´ìˆë‹¤. ë³´í†µ ë‹¤ìˆ˜ì˜ machine rackì— ê±¸ì³ì„œ ìˆ˜ë°±ëŒ€ì˜ chunkserverë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤. ë¶„ì‚°ëœ chunkserverëŠ” ì„œë¡œ ë‹¤ë¥¸ rackìœ¼ë¡œë¶€í„° ìˆ˜ë°±ê°œì˜ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° accessëœë‹¤. ì„œë¡œ ë‹¤ë¥¸ rackì— ì¡´ì¬í•˜ëŠ” ë‘ machine ê°„ í†µì‹ ì€ í•˜ë‚˜ ì´ìƒì˜ network switchë¥¼ í†µí•˜ê²Œ ë˜ë©°, rackì— ê±¸ì³ì´ëŠ” bandwidthëŠ” ë™ì¼í•œ rack ë‚´ë¶€ì˜ machine ê°„ aggregate bandwidth ë³´ë‹¤ ì‘ë‹¤. scalability, reliability, availabilityë¥¼ ìœ„í•´ì„œ ì´ì²˜ëŸ¼ multi-levelë¡œ replicaë¥¼ ë¶„ì‚°ì‹œí‚¤ëŠ” ê²ƒì€ ê³ ìœ ì˜ ë„ì „ì„ ì˜ë¯¸í•œë‹¤.</p>

<p>chunk replica placemnet policyëŠ” ë‘ê°€ì§€ ëª©ì ì„ ìˆ˜í–‰í•œë‹¤.</p>

<ul>
  <li>maximize data relibility</li>
  <li>maximize network bandwidth utilization</li>
</ul>

<p>ì´ë¥¼ ìœ„í•´ì„œ replicaë¥¼ ì„œë¡œ ë‹¤ë¥¸ machineì— ëŒ€í•´ì„œë§Œ ë³µì œí•˜ëŠ” ê²ƒì€ ì¶©ë¶„í•˜ì§€ ì•Šë‹¤. ìš°ë¦¬ëŠ” chunk replicaë¥¼ rackì— ê±¸ì³ì„œ ë³µì œí•´ë‘ì–´ì•¼ í•œë‹¤. ì´ë¥¼ í†µí•´ì„œ rack ì „ì²´ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œë„ ëŒ€ì²˜ê°€ ê°€ëŠ¥í•˜ê³  ì—¬ëŸ¬ rackì— ê±¸ì³ì„œ read trafficì„ ë°›ì„ ìˆ˜ ìˆë‹¤. write trafficì€ ì—¬ëŸ¬ rackì— ê±¸ì³ì„œ ë°œìƒí•˜ì§€ë§Œ ê¸°êº¼ì´ ìˆ˜ìš© ê°€ëŠ¥í•œ trade-offì´ë‹¤.</p>

<h3 id="43-creation-re-replication-rebalancing">4.3 Creation, Re-replication, Rebalancing</h3>

<p>chunk replicaëŠ” creation, re-replication, rebalancingì— ì˜í•´ ìƒì„±ëœë‹¤.</p>

<p>create.</p>

<p>masterê°€ chunkë¥¼ create í•  ë•Œ ë¹ˆ replicaë¥¼ ì–´ë””ì— í• ë‹¹í• ì§€ ê²°ì •í•œë‹¤. ì´ë•Œ ëª‡ê°€ì§€ factorë¥¼ ê³ ë ¤í•œë‹¤.</p>

<p>1) í‰ê·  ì•„ë˜ì˜ disk space utilizationì¸ chunkserver. ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë‹¤ë¥¸ chunkserverì™€ utilizationì´ ê°™ì•„ì§„ë‹¤.</p>

<p>2) ê° chunkserverì—ì„œ ìµœì‹ ì˜ creationì´ ë‹¤ìˆ˜ ë°œìƒí•˜ëŠ” ê²ƒì„ ì œí•œí•œë‹¤. ëŒ€ë¶€ë¶„ì˜ applicationì—ì„œappend-once-read-only íŒ¨í„´ì— ë¹„ì¶”ì–´ ë³´ì•˜ì„ ë•Œ ì´ˆê¸° creation ì´í›„ ê¸‰ê²©í•œ ëŒ€ëŸ‰ì˜ write trafficì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p>3) replicaëŠ” ì—¬ëŸ¬ rackì— ê±¸ì³ì„œ ë¶„ë°°ë˜ì–´ì•¼ í•œë‹¤.</p>

<p>re-replicate.</p>

<p>masterëŠ” ê°€ëŠ¥í•œ replicaì˜ ìˆ˜ê°€ ì§€ì •í•œ replication factorë³´ë‹¤ ë–¨ì–´ì§€ë©´ ì‹ ì†í•˜ê²Œ re-replicateë¥¼ ìˆ˜í–‰í•œë‹¤. re-replicateê°€ í•„ìš”í•œ ê° chunkëŠ” ì—¬ëŸ¬ factorì— ì˜í•´ ìš°ì„ ìˆœìœ„ê°€ ê²°ì •ëœë‹¤.</p>

<p>1) replication factorë³´ë‹¤ ì–¼ë§ˆë‚˜ ëª¨ìë€ì§€.</p>

<p>2) live file ë¨¼ì €. delete ì˜ˆì •ì¸ file ë³´ë‹¤ ìëª…í•˜ê²Œ ìš°ì„ í•œë‹¤.</p>

<p>3) ì‹¤í–‰ ì¤‘ì¸ applicationì— ë¯¸ì¹˜ëŠ” ì‹¤íŒ¨ì— ë”°ë¥¸ ì˜í–¥ë„ë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ client progressë¥¼ ë°©í•´í•˜ëŠ” chunk ë¨¼ì €.</p>

<p>masterëŠ” highest prority chunkë¥¼ ì„ íƒí•œ ë‹¤ìŒ chunkserverì— ëª…ë ¹ì„ ë‚´ë ¤ì„œ ë³µì œí•œë‹¤.</p>

<p>rebalance.</p>

<p>masterëŠ” ì£¼ê¸°ì ìœ¼ë¡œ replicaë¥¼ rebalance í•œë‹¤. masterëŠ” í˜„ì¬ replica distributionì„ ì¡°ì‚¬í•œ ë‹¤ìŒ replicaë“¤ì„ ë” ë‚˜ì€ disk space, load balancingì„ ìœ„í•´ ì´ë™ì‹œí‚¨ë‹¤. ì´ ê³¼ì •ê³¼ ë”ë¶ˆì–´ì„œ masterëŠ” ìƒˆë¡œìš´ chunkserverë¥¼ ì ì§„ì ìœ¼ë¡œ ì±„ìš°ë©°, ìƒˆë¡œìš´ chunkë¥¼ ê¸‰ì§„ì ìœ¼ë¡œ ë°›ì•„ë“¤ì—¬ write trafficì´ ëª°ë¦¬ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.</p>

<h3 id="44-garbage-collection">4.4 Garbage Collection</h3>

<p>fileì„ ì‚­ì œí•œ í›„ GFSëŠ” ê°€ëŠ¥í•œ ë¬¼ë¦¬ ì €ì¥ì†Œë¥¼ ì¦‰ì‹œ íšŒìˆ˜í•˜ì§€ ì•ŠëŠ”ë‹¤. file, chunk level ë‘˜ ë‹¤ regular garbage collection ì‹œì— lazyí•˜ê²Œ íšŒìˆ˜í•œë‹¤. ìš°ë¦¬ëŠ” ì´ëŸ¬í•œ ì ‘ê·¼ì´ ë” ë‹¨ìˆœí•˜ê³  ì‹ ë¢°ì„± ìˆìŒì„ ë°œê²¬í•˜ì˜€ë‹¤.</p>

<h4 id="441-mechanism">4.4.1 Mechanism</h4>

<p>fileì´ applicationìœ¼ë¡œë¶€í„° ì‚­ì œë  ë•Œ masterëŠ” ë‹¤ë¥¸ ë³€ê²½ì²˜ëŸ¼ deletionì— ëŒ€í•œ logë¥¼ ë‚¨ê¸´ë‹¤. í•˜ì§€ë§Œ ì¦‰ì‹œ ìì›ì„ íšŒìˆ˜í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ fileì€ ë‹¨ìˆœíˆ ìˆ¨ê¹€ íŒŒì¼ë¡œ ë³€ê²½ë˜ë©° ì‚­ì œ ì˜ˆì • timestampë¥¼ ê°€ì§„ë‹¤ (default 3ì¼ì´ë©° ì„¤ì • ê°€ëŠ¥). masterì˜ regular scan ë•Œ ì‚­ì œ ì˜ˆì • ì‹œê°„ì´ ì§€ë‚¬ìœ¼ë©´ ì´ ìˆ¨ê¹€ íŒŒì¼ì€ masterì˜ metadataì—ì„œ ì‚­ì œëœë‹¤. ì´ëŸ¬í•œ ë°©ë²•ì€ íš¨ìœ¨ì ìœ¼ë¡œ chunkë¡œì˜ ë§í¬ë¥¼ ëŠëŠ”ë‹¤.</p>

<p>chunk namespaceì˜ regular scanì—ì„œ masterëŠ” orphaned chunk (fileê³¼ì˜ ë§í¬ê°€ ì‚­ì œëœ chunk)ë¥¼ ë°œê²¬í•˜ë©´ masterëŠ” í•´ë‹¹ chunkì— ëŒ€í•œ metadataë¥¼ ì‚­ì œí•œë‹¤. ì´í›„ chunkserverì™€ ì£¼ê³ ë°›ëŠ” heartbeat ë©”ì‹œì§€ì—ì„œ í•´ë‹¹ chunkê°€ masterì˜ metadataì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•˜ë©´ chunkserverëŠ” í•´ë‹¹ chunkì˜ replicaë¥¼ ììœ ë¡­ê²Œ ì‚­ì œí•œë‹¤.</p>

<h4 id="442-discussion">4.4.2 Discussion</h4>

<p>programming languageì˜ ë§¥ë½ì—ì„œ ë¶„ì‚° garbage collectionì€ ë³µì¡í•œ í•´ê²°ì±…ì„ ìš”êµ¬í•˜ëŠ” ì–´ë ¤ìš´ ë¬¸ì œì´ì§€ë§Œ GFSì—ì„œëŠ” ë¹„êµì  ë‹¨ìˆœí•˜ë‹¤. masterì— ì˜í•´ì„œ ê´€ë¦¬ë˜ëŠ” file to chunk mappingì„ í†µí•´ì„œ ëª¨ë“  chunkì— ëŒ€í•œ referenceë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì¦‰, masterë¡œë¶€í„° í™•ì¸ë˜ì§€ ì•Šì€ replicaëŠ” garbageë‹¤.</p>

<p>storage ìì› íšŒìˆ˜ì— ê´€í•œ lazyí•œ ì „ëµì€ eager deletionì— ë¹„í•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì´ì ì´ ìˆë‹¤. ì²«ì§¸, componentì˜ ì‹¤íŒ¨ê°€ ë¹ˆë²ˆí•œ ëŒ€ê·œëª¨ì˜ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” ì´ ë°©ë²•ì´ ë‹¨ìˆœí•˜ê³  ì‹ ë¢°ì„±ìˆë‹¤. masterë¡œë¶€í„° ì•Œë ¤ì§€ì§€ ì•Šì€ replicaë¥¼ ì§€ìš°ëŠ” ì´ ë°©ë²•ì€ ë™ë“±í•˜ê³  ì¢…ì†ì ì¸ ë°©ë²•ì„ ì œê³µí•œë‹¤. ë‘˜ì§¸, storage ìì› íšŒìˆ˜ë¥¼ regular background ì‘ì—…ì— merge ì‹œí‚¨ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ, batchë¡œì¨ ì‘ì—…ì´ ì´ë£¨ì–´ì§€ê³  ë¹„ìš©ì€ amotized ëœë‹¤. ì…‹ì§¸, ì˜ë„ì ì¸ ì§€ì—°ì„ í†µí•´ì„œ ì‚¬ê³  í˜¹ì€ ë¹„ê°€ì—­ì ì¸ ì‚­ì œë¥¼ ë°©ì§€í•œë‹¤.</p>

<p>ê²½í—˜ì— ì˜í•˜ë©´, ì´ëŸ¬í•œ ë°©ë²•ì˜ ì£¼ìš” ë‹¨ì ì€ storageê°€ tightí•˜ê²Œ ì‚¬ìš©ë  ë•Œ ì‚¬ìš©ìì— ì˜í•œ fine tuneì„ ë°©í•´í•œë‹¤ëŠ” ì ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ applicationì—ì„œ ë°˜ë³µì ìœ¼ë¡œ íŒŒì¼ì„ ìƒì„±, ì‚­ì œí•œë‹¤ë©´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œëŠ” ì˜ë„ì ì¸ ì‚­ì œì— ëŒ€í•œ ëª…ì‹œì ì¸ ëª…ë ¹ì„ ë‚´ë¦´ ìˆ˜ ìˆë„ë¡ í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p>

<h3 id="45-stale-replica-detection">4.5 Stale Replica Detection</h3>

<p>chunk replicaëŠ” chunkserverê°€ ì‹¤íŒ¨í–ˆê±°ë‚˜ down ë˜ì—ˆì„ ë•Œ ë°œìƒí•œ mutationì„ ë†“ì³¤ì„ ë•Œ ë°œìƒí•œë‹¤. up-to-date replicaì™€ stale replicaë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ masterëŠ” ê° chunkì— ëŒ€í•´ì„œ chunk version numberë¥¼ ê´€ë¦¬í•œë‹¤.</p>

<p>masterê°€ chunkì— ìƒˆë¡œìš´ leaseë¥¼ ë¶€ì—¬í•  ë•Œ masterëŠ” chunk versionì„ ì¦ê°€ì‹œí‚¤ê³  up-to-date replicaì— ì•Œë¦°ë‹¤. masterì™€ replicaë“¤ì€ ì´ ìƒˆë¡œìš´ version numberë¥¼ persistentí•˜ê²Œ ê´€ë¦¬í•œë‹¤. ë§Œì•½ replicaê°€ staleí•œ ìƒíƒœë¼ë©´ verison numberëŠ” ì¦ê°€í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤. stale replicaê°€ ì •ìƒ ìƒíƒœë¡œ ëŒì•„ì™€ì„œ masterì—ê²Œ version numberë¥¼ masterì—ë‹¤ ì•Œë¦¬ë©´, masterëŠ” ì£¼ì–´ì§„ version number í˜„ì¬ì˜ ê²ƒë³´ë‹¤ ë’¤ì³ì ¸ ìˆìŒì„ í™•ì¸í•˜ê³  í•´ë‹¹ replicaë¥¼ garbage collection ì²˜ë¦¬ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</p>

<h2 id="5-fault-tolerance-and-diagnosis">5. Fault Tolerance and Diagnosis</h2>

<p>ìì›ë“¤ì„ ì™„ì „íˆ ì‹ ë¢°í•  ìˆ˜ ì—†ë‹¤. ì´ëŸ¬í•œ ë„ì „ì„ ì–´ë–»ê²Œ ë§ë‹¥ëœ¨ë ¸ëŠ”ì§€ì™€ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•œ toolì— ëŒ€í•´ì„œ ì´ì•¼ê¸°í•˜ê³ ì í•œë‹¤.</p>

<h3 id="51-high-availability">5.1 High Availability</h3>

<p>GFS cluster ë‚´ ìˆ˜ë°±ëŒ€ì˜ ì„œë²„ ì¤‘ì—ì„œ ì¼ë¶€ëŠ” ë°˜ë“œì‹œ unavailableí•œ ìƒíƒœì— ì´ë¥´ë¥¸ë‹¤. ìš°ë¦¬ëŠ” fast recoveryì™€ replication ì´ ë‘ê°€ì§€ ì „ëµìœ¼ë¡œ ì „ì²´ ì‹œìŠ¤í…œì„ highly available í•˜ê²Œ ìœ ì§€í•˜ì˜€ë‹¤.</p>

<h4 id="511-fast-recovery">5.1.1 Fast Recovery</h4>

<p>masterì™€ chunkserver ë‘˜ ë‹¤ ì–´ë–»ê²Œ ì¢…ë£Œë˜ì—ˆë“  ì´ì „ ìƒíƒœë¥¼ ë³µêµ¬í•˜ê³  ì‹œì‘í•˜ëŠ” ë° ìˆ˜ì´ˆ ì´ë‚´ê°€ ê±¸ë¦¬ë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤. ì‚¬ì‹¤ ìƒ ìš°ë¦¬ëŠ” ì •ìƒ ì¢…ë£Œì™€ ë¹„ì •ìƒ ì¢…ë£Œë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠëŠ”ë‹¤. clientì—ì„œëŠ” ì„œë²„ê°€ ì¬ì‹œì‘í•  ë•Œ ì‘ì€ hiccup (ì§€í‘œì— ì¼ì‹œì ìœ¼ë¡œ ë³€ë™ì´ ê°€í•´ì§€ëŠ” í˜„ìƒ)ì„ ê²ªëŠ”ë‹¤.</p>

<h4 id="512-chunk-replication">5.1.2 Chunk Replication</h4>

<p>ì´ì „ì— ë…¼ì˜í•œëŒ€ë¡œ, ê° chunkëŠ” ì„œë¡œ ë‹¤ë¥¸ rackì— ê±¸ì³ì„œ ì„¤ì •í•œ replication factorë§Œí¼ ë³µì œë˜ì–´ìˆë‹¤. masterëŠ” chunkserverê°€ ì˜ ë™ì‘í•˜ì§€ ì•Šì„ ë•Œ ì¡´ì¬í•˜ëŠ” ë‹¤ë¥¸ replicaë¥¼ ë³µì œí•œë‹¤. í˜„ replication ì „ëµì´ ì˜ ë™ì‘í•˜ê³  ìˆì§€ë§Œ ìš°ë¦¬ëŠ” parity, erasure codeì™€ ê°™ì€ cross-server redundancyì˜ í˜•íƒœë¥¼ ë” íƒìƒ‰í•˜ëŠ” ì¤‘ì´ë‹¤.</p>

<h4 id="513-master-replication">5.1.3 Master Replication</h4>

<p>masterì˜ ìƒíƒœëŠ” reliabilityë¥¼ ìœ„í•´ì„œ ë³µì œë˜ë©°, operation logì™€ checkpointê°€ ì—¬ëŸ¬ machineì— ì €ì¥ëœë‹¤. ìƒíƒœì— ê´€í•œ mutationì€ local diskì™€ master replicaì— flush ë˜ì—ˆì„ ë•Œ commit ëœë‹¤. ë§Œì•½ masterê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ GFS ë°–ì˜ monitoring infrastructureì—ì„œ ì´ë¥¼ íƒì§€í•˜ì—¬ ìƒˆë¡œìš´ master processë¥¼ ê¸°ë™í•œë‹¤. client ë‹¨ì—ì„œëŠ” ì„œë¡œ ë‹¤ë¥¸ masterì— ëŒ€í•´ì„œ DNSë¡œ ì ‘ê·¼í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì „í˜€ ë³€ê²½ ì‚¬í•­ì´ ì—†ë‹¤.</p>

<p>ë”ìš±ì´, shadow masterëŠ” primary masterê°€ down ë˜ì—ˆì„ ë•Œ íŒŒì¼ ì‹œìŠ¤í…œì— ëŒ€í•œ read-only accessë¥¼ ì œê³µí•œë‹¤. mirrorê°€ ì•„ë‹Œ shadowì¸ ì´ìœ ëŠ” primaryì— ëŒ€í•´ ì•½ê°„ì˜ ì§€ì—°ì´ ìˆì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ file contentê°€ ì•„ë‹Œ metadataì— ëŒ€í•œ ì§€ì—°ì€ applicationì— ëŒ€í•œ ì˜í–¥ì´ í¬ì§€ ì•Šë‹¤.</p>

<p>shadow masterëŠ” ìì‹ ì„ ê°±ì‹ í•˜ê¸° ìœ„í•´ primary masterê°€ ë°›ëŠ” operation logë¥¼ ì½ì–´ ìˆœì„œ ê·¸ë˜ë„ ë³€ê²½ì‚¬í•­ì„ ê°€í•œë‹¤. ë˜í•œ primaryì²˜ëŸ¼ chunkserverë¥¼ poll í•˜ê³  ìˆìœ¼ë©° monitoring í•œë‹¤. shadow masterëŠ” replicaì˜ ìƒì„±, ì‚­ì œë¡œë¶€í„° ë°œìƒí•˜ëŠ” primaryì˜ replica placementì— ëŒ€í•œ updateì— ëŒ€í•´ì„œë§Œ primaryì— ì¢…ì†ì ì´ë‹¤.</p>

<h3 id="52-data-integrity">5.2 Data Integrity</h3>

<p>ê° chunkserverëŠ” ì €ì¥ëœ dataì˜ corruptionì„ íƒì§€í•˜ê¸° ìœ„í•´ checksumì„ ì‚¬ìš©í•œë‹¤.  GFS clusterì—ì„œ corruptionì€ í”í•œ ì¼ì´ê³ , ìš°ë¦¬ëŠ” ì´ corruptionì„ íƒì§€í–ˆì„ ë•Œ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë‹¤ë¥¸ replicaë¼ë¦¬ ë¹„êµë¥¼ í†µí•´ corruptionì„ í•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ë¹„ ì‹¤ìš©ì ì´ë‹¤. ë”°ë¼ì„œ ê° chunkserverëŠ” ê·¸ë“¤ ê³ ìœ ì˜ checksum ìœ ì§€í•¨ìœ¼ë¡œì¨ data integrityì— ëŒ€í•œ verificationì„ í•´ì•¼í•œë‹¤.</p>

<p>chunkëŠ” 64KB blockìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ê°ê°ì€ ëŒ€ì‘í•˜ëŠ” 32 bitì˜ checksumì´ ìˆê³  ë‹¤ë¥¸ metadataì²˜ëŸ¼ memory ë° persistentì— ë¡œê·¸ì™€ í•¨ê»˜ ì €ì¥ëœë‹¤.</p>

<p>read ìš”ì²­ì— ëŒ€í•´ì„œ chunkserverëŠ” ì‘ë‹µí•˜ê¸° ì „ ëŒ€ìƒ rangeì— ìˆëŠ” data blockì— ëŒ€í•œ verificationì„ ìˆ˜í–‰í•œë‹¤. ë§Œì•½ checksumì´ ë‹¤ë¥´ë‹¤ë©´ chunkserverëŠ” ì‘ë‹µìœ¼ë¡œ errorì„ ì£¼ê³  clientëŠ” ë‹¤ë¥¸ replicaë¡œë¶€í„° dataë¥¼ ì–»ëŠ”ë‹¤. í•´ë‹¹ chunkserverëŠ” masterì— ì˜í•´ garbage collection ëœë‹¤.</p>

<p>checksumì€ ì„±ëŠ¥ì— ì˜í–¥ì„ ê±°ì˜ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ë¶€ë¶„ì˜ read ìš”ì²­ì´ ì†Œìˆ˜ì˜ blockì— í•œì •ë˜ì–´ìˆì–´ verificationë„ ê·¸ë§Œí¼ ì´ë£¨ì–´ì§„. GFS clientëŠ” checksum block boundaryì— ë§ì¶”ì–´ ìš”ì²­ì„ í•˜ê¸°ì— overheadë¥¼ ì¤„ì¸ë‹¤. ê²Œë‹¤ê°€, checksum lookup ë° comparisonì€ I/O ì—†ì´ ë°œìƒí•˜ê³ , checksum ê³„ì‚°ì€ I/Oì™€ overlap ë˜ì–´ ì´ë£¨ì–´ì§„ë‹¤.</p>

<p>checksum ê³„ì‚°ì€ record appendì— ìµœì í™”ë˜ì–´ìˆë‹¤. ë§ˆì§€ë§‰ partial checksum blockì— ëŒ€í•´ì„œ ë‹¨ìˆœíˆ incrementë¥¼ ì‹œí‚¤ê³ , ìƒˆë¡œìš´ checksum blockì— ëŒ€í•´ì„œëŠ” ìƒˆë¡œì´ ê³„ì‚°ì„ í•œë‹¤.</p>

<p>ë°˜ëŒ€ë¡œ writeëŠ” ëŒ€ìƒ rangeì— ìˆëŠ” ê¸°ì¡´ blockì— ëŒ€í•´ì„œ read ë° verificationì„ í•˜ê³ , write í›„ ê·¸ blockì— ëŒ€í•´ì„œ checksumì„ ê³„ì‚°í•´ì„œ ì €ì¥í•´ì•¼ í•œë‹¤. ê¸°ì¡´ blockì— ëŒ€í•œ verificationì€ ë°˜ë“œì‹œ í•„ìš”í•œë°, ë§Œì¼ ìˆ˜í–‰í•˜ì§€ ì•Šì„ ê²½ìš° corruption ëœ dataë¥¼ overwrite í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p>idle period ì‹œì— chunk serverëŠ” scanì„ í•˜ì—¬ inactive chunkì— ëŒ€í•œ verificationì„ ìˆ˜í–‰í•œë‹¤. ì´ë¥¼ í†µí•´ì„œ ì„œë²„ê°€ ëª¨ë‘ validí•œ replicaë§Œì„ ë“¤ê³ ìˆë‹¤ëŠ” ê°€ì •ì„ ì¡°ê¸ˆ ë” ì™„í™”ì‹œí‚¬ ìˆ˜ ìˆë‹¤.</p>

<h3 id="53-diagnostic-tools">5.3 Diagnostic Tools</h3>

<p>ê´‘ë²”ìœ„í•˜ê³  ì„¸ë¶€ì ì¸ ë¶„ì„ ë¡œê·¸ëŠ” ë¹„ìš©ì„ ê±°ì˜ ë°œìƒì‹œí‚¤ì§€ ì•Šìœ¼ë©´ì„œë„ ë¬¸ì œ ê²©ë¦¬ (í•œì •ì  ë¬¸ì œ ì •ì˜), ë””ë²„ê¹…, ì„±ëŠ¥ ë¶„ì„ì— í—¤ì•„ë¦´ ìˆ˜ ì—†ì„ë§Œí¼ ì¤‘ìš”í•˜ë‹¤. GFSëŠ” ì—¬ëŸ¬ ì¤‘ìš”í•œ eventì™€ ëª¨ë“  RPC ìš”ì²­ ë° ì‘ë‹µì— ë¡œê·¸ë¥¼ ë‚¨ê¸°ê³  ìˆë‹¤. ì´ë“¤ì„ ì¡°í•©í•´ì„œ ëª¨ë“  ìƒí™©ì— ëŒ€í•œ history generationì´ ê°€ëŠ¥í•˜ë‹¤. ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ê²ƒì€ ì„±ëŠ¥ ìƒì— ê±°ì˜ ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë°, ë¡œê·¸ê°€ sequential í•˜ê³  ë¹„ë™ê¸°ì ìœ¼ë¡œ ì“°ì—¬ì§€ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<h2 id="6-measurements">6. Measurements</h2>

<p>ì´ sectionì—ì„œëŠ” GFS architectureì— ë‹´ê¸´ ê·¼ë³¸ì ì¸ bottleneckì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ ëª‡ëª‡ micro-benchmarkì™€ googleì—ì„œ ì‚¬ìš©ë˜ëŠ” ì‹¤ì œ clusterì— ëŒ€í•œ ì¸¡ì •ì„ ë‹¤ë£¬ë‹¤.</p>

<h3 id="61-micro-benchmarks">6.1 Micro-benchmarks</h3>

<p>ì‹¤í—˜ì„ ìœ„í•œ GFS clusterëŠ” 1 master, 2 masters, 16 chunkservers, 16 clientsë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤. ëª¨ë“  machineì€ ë‹¤ìŒê³¼ ê°™ì€ specìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.</p>

<ul>
  <li>dual 1.4 GHz PIII processors, 2 GB of memory, two 80 GB 5400 rpm disks, and a 100 Mbps full-duplex Ethernet connection to an HP 2524 switch</li>
  <li>All 19 GFS server machines are connected to one switch, and all 16 client machines to the other.The two switches are connected with a 1 Gbps link.</li>
</ul>

<h4 id="611-3-reads-writes-record-appends">6.1.1-3 Reads, Writes, Record Appends</h4>

<p><a href="https://1.bp.blogspot.com/-WxfATF-aCfQ/X0XUMZtfDLI/AAAAAAAADjc/D4sAcHAY2R8NJjpIdJDk8ZG940ZmwLk-wCLcBGAsYHQ/s2254/GFS-Fig3.png"><img src="https://1.bp.blogspot.com/-WxfATF-aCfQ/X0XUMZtfDLI/AAAAAAAADjc/D4sAcHAY2R8NJjpIdJDk8ZG940ZmwLk-wCLcBGAsYHQ/s640/GFS-Fig3.png" alt="img" /></a></p>

<p>figure 3ì€ ìœ„ clusterì— ëŒ€í•œ aggregate read, write, record append rateë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ideal peakëŠ” 1Gbps linkì— ì˜í•´ 125 MB/sì—ì„œ saturateë˜ë©° clientì—ì„œëŠ” 100 Mbps network interfaceì— ì˜í•´ 12.5 MB/sì—ì„œ saturate ëœë‹¤.</p>

<p>read.</p>

<p>ì‹¤ì œ ì‹¤í—˜ì—ì„œëŠ” í•œ client ì—°ê²° ì‹œ ì´ë¡ ì ì¸ ì„±ëŠ¥ì˜ 80%ë¥¼, client ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ë©´ì„œ ì¶”ê°€ì ìœ¼ë¡œ 80%ì—ì„œ 75%ë” ê°ì†Œí•˜ì˜€ë‹¤. ì´ëŠ” ì—¬ëŸ¬ clientê°€ ê°™ì€ chunkserverì—ì„œ ë™ì‹œì— readë¥¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p>write.</p>

<p>writeëŠ” 67 MB/sì—ì„œ saturate ë˜ëŠ”ë°, ê¸°ë³¸ì ìœ¼ë¡œ chunk í•˜ë‚˜ ë‹¹ 16ê°œ chunkserver ì¤‘ 3ê°œì”© writeí•´ì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì‹¤ì œ ì„±ëŠ¥ì€ ì¡°ê¸ˆ ë” ì‘ê²Œ ì¦ê°€í•œë‹¤. ì´ëŠ” ë™ì‹œ write ë¿ë§Œì•„ë‹ˆë¼ replication factorì—ì„œ ê¸°ì¸í•œë‹¤.</p>

<p>record append.</p>

<p>ì„±ëŠ¥ì€ client ìˆ˜ì— ìƒê´€ì—†ì´ ëŒ€ìƒ ë§ˆì§€ë§‰ chunkë¥¼ ë“¤ê³  ìˆëŠ” chunkserverì˜  network bandwidthì— ì˜í•´ í•œì •ëœë‹¤. client ìˆ˜ê°€ ëŠ˜ì–´ë‚ ìˆ˜ë¡ congestionê³¼ network trasfer rate ë³€ìˆ˜ì— ì˜í–¥ì„ ë°›ì•„ ì„±ëŠ¥ì´ ì¡°ê¸ˆì”© saturate ë˜ì—ˆë‹¤.</p>

<p>ì‹¤ì œ clusterì—ì„œëŠ” N clientsê°€ M shared fileì— ì ‘ê·¼í•˜ëŠ” í˜•íƒœê°€ ë  ê²ƒì´ë‹¤. ëŒ€ëŸ‰ì˜ clusterì—ì„œëŠ” ìœ„ congestionì´ í¬ê²Œ ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë°, clientëŠ” chunkserverê°€ ë‹¤ë¥¸ fileë¡œ busy í•  ë•Œ ë‹¤ë¥¸ fileì— ë¨¼ì € ì“¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.</p>

<h3 id="62-real-world-clusters">6.2 Real World Clusters</h3>

<p>googleì—ì„œ ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” ë‘ cluster ì¡°ì‚¬ ê²°ê³¼ì´ë‹¤. cluster AëŠ” ì—°êµ¬ê°œë°œ ìš©ìœ¼ë¡œ, cluster BëŠ” ì‹¤ì œ production ìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆìœ¼ë©° ë‘˜ì€ ê°ê¸° ë‹¤ë¥¸ specì„ ê°€ì§€ë©° ë‹¤ë¥¸ ì ‘ê·¼ íŒ¨í„´ì„ ë³´ì¸ë‹¤.</p>

<p><a href="https://1.bp.blogspot.com/-so1NAthwBJg/X0XUWe3OGMI/AAAAAAAADjg/C_geCKM3RxcB3N8Fzgp1lpAZKIU9UBbbwCLcBGAsYHQ/s952/GFS-Tab2.png"><img src="https://1.bp.blogspot.com/-so1NAthwBJg/X0XUWe3OGMI/AAAAAAAADjg/C_geCKM3RxcB3N8Fzgp1lpAZKIU9UBbbwCLcBGAsYHQ/s640/GFS-Tab2.png" alt="img" /></a></p>

<p>6.2.1 Storage</p>

<p>ë‘ clusterëŠ” ìˆ˜ë°± chunkserverë¡œ ì´ë£¨ì–´ì§„ storageë¡œ ì‚¬ìš©ë˜ì—ˆìœ¼ë©° replication factorê°€ 3ì„ì„ ê³ ë ¤í–ˆì„ ë•Œ ì‹¤ì œ ë°ì´í„° ì €ì¥ë¥ ì€ used disk spaceì˜ 1/3ì´ ë  ê²ƒì´ë‹¤.</p>

<p>6.2.2 Metadata</p>

<p>chunkserverì˜ metadata ìš©ëŸ‰ì€ 64KB data blockê°€ì§€ëŠ” checksumì´ ëŒ€ë¶€ë¶„ì´ë©° chunk version number ë˜í•œ í¬í•¨ëœë‹¤.</p>

<p>masterì˜ metadata ìš©ëŸ‰ì€ í›¨ì”¬ ì ì€ë° ì´ëŠ” ìš°ë¦¬ê°€ ì´ˆê¸° ë…¼ì˜í–ˆë˜ masterì˜ memory ì´ìŠˆê°€ ì „ì²´ system capacityì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šì„ ê²ƒì´ë¼ëŠ” ì£¼ì¥ê³¼ ì¼ì¹˜í•˜ëŠ” ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤.</p>

<p>ê° chunkserveì™€ masterëŠ” 50~100MB í¬ê¸°ì˜ metadataë¥¼ ê°€ì§€ê³  ìˆì–´ recoveryê°€ ì‹ ì†í•˜ë‹¤. ë‹¤ë§Œ, masterì˜ ê²½ìš° ì˜¨ì „íˆ ë™ì‘í•˜ë ¤ë©´ 30~60ì´ˆê°€ ê±¸ë¦¬ëŠ”ë°, chunk locationì •ë³´ë¥¼ ëª¨ë‘ ì·¨í•©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p>6.2.3-5 Read and Write Rates, Master Load, Recovery Time</p>

<p><a href="https://1.bp.blogspot.com/-NEy1WoZ_RDo/X0XUekwtFjI/AAAAAAAADjo/oyzUI5UygXEKi4O1xPjDCNXXhXtzuCtsgCLcBGAsYHQ/s1092/GFS-Tab3.png"><img src="https://1.bp.blogspot.com/-NEy1WoZ_RDo/X0XUekwtFjI/AAAAAAAADjo/oyzUI5UygXEKi4O1xPjDCNXXhXtzuCtsgCLcBGAsYHQ/s640/GFS-Tab3.png" alt="img" /></a></p>

<h3 id="63-workload-breakdown">6.3 Workload Breakdown</h3>

<p>ì´ sectionì—ì„œëŠ” ë‘ clusterì— ëŒ€í•œ workload ë¶„ì„ì„ í•˜ë ¤ê³  í•œë‹¤. cluster XëŠ” ì—°êµ¬ê°œë°œìš©ì´ë©° cluster YëŠ” productionì˜ data processsing ìš©ì´ë‹¤.</p>

<h4 id="631-methodology-and-caveats">6.3.1 Methodology and Caveats</h4>

<p>ê²°ê³¼ëŠ” clientë¡œ ë¹„ë¡¯ëœ requestë§Œì„ í¬í•¨í•˜ì˜€ë‹¤. I/Oì— ê´€í•œ í†µê³„ëŠ” GFS ì„œë²„ì— ë¡œê¹…ëœ ì‹¤ì œ RPC ìš”ì²­ì„ ë°”íƒ•ìœ¼ë¡œ heuristicí•˜ê²Œ reconstruct ë˜ì—ˆë‹¤.</p>

<p>ë…¼ë¬¸ì„ í†µí•´ì„œ workloadì— ëŒ€í•œ ì§€ë‚˜ì¹œ ì¼ë°˜í™”ë¥¼ ì¡°ì‹¬í•˜ì˜€ìœ¼ë©´ í•œë‹¤. googleì—ì„œëŠ” GFSì™€ application ëª¨ë‘ ì™„ì „íˆ í†µì œí•˜ê³  ìˆë‹¤. applicationì€ GFSì— ë§ê²Œ ì„¤ê³„ë˜ì—ˆìœ¼ë©° ì—­ìœ¼ë¡œ GFSë„ applicationì„ ìœ„í•´ ì„¤ê³„ë˜ì—ˆë‹¤.</p>

<h4 id="632-chunkserver-workload">6.3.2 Chunkserver Workload</h4>

<p><a href="https://1.bp.blogspot.com/-3vPoGjEdwEE/X0XUldO-peI/AAAAAAAADjs/qEUT50oKAeUSmlecOUPzsEPAA39qMj9lgCLcBGAsYHQ/s1044/GFS-Tab4.png"><img src="https://1.bp.blogspot.com/-3vPoGjEdwEE/X0XUldO-peI/AAAAAAAADjs/qEUT50oKAeUSmlecOUPzsEPAA39qMj9lgCLcBGAsYHQ/s640/GFS-Tab4.png" alt="img" /></a></p>

<p><a href="https://1.bp.blogspot.com/-6GzP4GF1HXs/X0XUoWwwZ7I/AAAAAAAADj0/6t7vJsYQOEM0nCTK1XoGFJ58XPv-bDrfACLcBGAsYHQ/s1038/GFS-Tab5.png"><img src="https://1.bp.blogspot.com/-6GzP4GF1HXs/X0XUoWwwZ7I/AAAAAAAADj0/6t7vJsYQOEM0nCTK1XoGFJ58XPv-bDrfACLcBGAsYHQ/s640/GFS-Tab5.png" alt="img" /></a></p>

<p>table 4ëŠ” size ë³„ operation ë¶„í¬ë¥¼ ë³´ì—¬ì¤€ë‹¤.</p>

<p>readì˜ ê²½ìš° 64KB ì´í•˜ëŠ” í° íŒŒì¼ì—ì„œ ì‘ì€ ë¶€ë¶„ì„ ì°¾ê¸° ìœ„í•œ seek-intensive í•œ ì‘ì—…ì´ë©° 512KB ì´ìƒì€ ê¸´ sequential readì´ë‹¤. cluster YëŠ” ìƒë‹¹í•œ ë¹„ìœ¨ë¡œ readì˜ ê²°ê³¼ 0ì„ retrun í•˜ëŠ”ë°, ì´ëŠ” producer-consumer queueì—ì„œ consumerê°€ producer ë³´ë‹¤ overpace ëœ ìƒí™©ìœ¼ë¡œë¶€í„° ì˜¨ë‹¤. XëŠ” data analysis ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ short-lived dataë¥¼ read í•˜ê¸° ë•Œë¬¸ì´ ê·¸ ë¹„ìœ¨ì´ ì ë‹¤.</p>

<p>writeì˜ ê²½ìš° 256KB ì´ìƒì€ writerì˜ bufferingìœ¼ë¡œë¶€í„° ì˜¨ë‹¤. ì‘ì€ dataë¥¼ buffer í•œ ê²½ìš°ëŠ” checkpoint, syschronize í•  ë•Œë‚˜ í˜¹ì€ ì •ë§ë¡œ ì‘ì€ dataë¥¼ write í•  ë•Œì´ë‹¤.</p>

<p>table 5ëŠ” operationì˜ size ë³„ data transfer ë¹„ìœ¨ì´ë‹¤. ëŒ€ë¶€ë¶„ì˜ data transferëŠ” í° sizeì—ì„œ ë°œìƒí•˜ë©° readì˜ ê²½ìš° ì†ŒëŸ‰ì˜ random seekì´ í° ë¹„ìœ¨ì„ ì°¨ì§€í•˜ê³  ìˆë‹¤.</p>

<p>6.3.3 Appends and Writes</p>

<p>record appendëŠ” production systemì—ì„œ ë¬´ê²ê²Œ ì‚¬ìš©ë˜ì—ˆë‹¤. cluster Xì˜ ê²½ìš° write ëŒ€ë¹„ record appendëŠ” 108:1ì˜ ë¹„ìœ¨ì´ë©° byte transferë¡œëŠ” 8:1ì´ë‹¤. cluster Yì˜ ê²½ìš° ê°ê° 3.7:1, 2.5:1ì´ë‹¤. ê¸°ëŒ€í•œëŒ€ë¡œ record appendì˜ ë¹„ìœ¨ì´ ì••ë„ì ìœ¼ë¡œ dominate í•˜ì˜€ë‹¤. ë˜í•œ ëŒ€ë¶€ë¶„ì˜ overwriteëŠ” client retryì—ì„œ ë°œìƒí•˜ì˜€ë‹¤.</p>

<h4 id="634-master-workload">6.3.4 Master Workload</h4>

<p><a href="https://1.bp.blogspot.com/-INIR8ovIKKo/X0XUvRO4L9I/AAAAAAAADj8/T5vXPToMBfQras1FpTzgKZWIoRFRdOpIACLcBGAsYHQ/s1004/GFS-Tab6.png"><img src="https://1.bp.blogspot.com/-INIR8ovIKKo/X0XUvRO4L9I/AAAAAAAADj8/T5vXPToMBfQras1FpTzgKZWIoRFRdOpIACLcBGAsYHQ/s640/GFS-Tab6.png" alt="img" /></a></p>

<p>masterì˜ workload ì¤‘ ëŒ€ë¶€ë¶„ì˜ ìš”ì²­ì€ chunk locationsì— ëŒ€í•œ request (FindLocation)ê³  lease holder informationì— ëŒ€í•œ request (FindLeaseHolder)ì˜€ë‹¤.</p>

<h2 id="7-experiences">7. Experiences</h2>

<p>GFSë¥¼ ë””ìì¸í•˜ê³  ë°°í¬í•˜ëŠ” ê³¼ì •ì—ì„œ opeational, technical í•œ ë‹¤ì–‘í•œ ì´ìŠˆë“¤ì„ ê²ªì—ˆë‹¤.</p>

<p>ë¨¼ì € GFSëŠ” backend file systemìœ¼ë¡œ ì¸ì‹ë˜ì—ˆìœ¼ë‚˜ ë‹¤ì–‘í•œ ìš©ì²˜ê°€ ìƒê¸°ë©´ì„œ permission, quota ë“±ì— ëŒ€í•œ ê·¼ë³¸ì ì¸ í•„ìš”ì„±ì´ ì œê¸°ë˜ì—ˆë‹¤.</p>

<p>ë§ë‹¥ëœ¨ë¦° ê°€ì¥ í° ë¬¸ì œë“¤ì€ diskì™€ linuxë¡œë¶€í„° ì™”ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë…¼ë¬¸ì„ ì°¸ì¡°í•˜ê¸°ë¥¼ ë°”ë€ë‹¤.</p>

<h2 id="8-related-work">8. Related Work</h2>

<p>GFSê°€ ì±„íƒí•œ ì„¤ê³„ëŠ” ì—¬ëŸ¬ ì—°êµ¬ì™€ ê´€ë ¨ì´ ìˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë…¼ë¬¸ì„ ì°¸ì¡°í•˜ê¸°ë¥¼ ë°”ë€ë‹¤.</p>

<ul>
  <li>
    <p>location independent namespace</p>
  </li>
  <li>
    <p>a set of disks distributed in networks, rather than RAID</p>
  </li>
  <li>
    <p>do not provide any caching</p>
  </li>
  <li>
    <p>centralized server, rather than relying on distributed algorithms for consistency and management</p>
  </li>
  <li>
    <p>delivering aggregate performance to a large number of clients</p>
  </li>
  <li>
    <p>atomic record appends</p>
  </li>
</ul>

<h2 id="9-conclusions">9. Conclusions</h2>

<p>GFSëŠ” ì„±ê³µì ìœ¼ë¡œ googleì˜ storage ìˆ˜ìš”ë¥¼ ì¶©ì¡±ì‹œì¼°ìœ¼ë©° ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ storage platformì—ì„œ ì‚¬ìš©ë˜ê³  ìˆë‹¤. GFSëŠ” ì „ì²´ web scaleì˜ ë¬¸ì œë“¤ì„ í˜ì‹ í•˜ê³  ë›°ì–´ë„˜ê²Œ í•˜ê¸° ìœ„í•œ ì¤‘ìš”í•œ toolë¡œ ìë¦¬ ì¡ì•˜ë‹¤.</p>

<h2 id="references">References</h2>

<ul>
  <li>
    <p>Sanjay Ghemawat, Howard Gobioff, &amp; Shun-Tak Leung (2003). The Google File System. In <em>Proceedings of the 19th ACM Symposium on Operating Systems Principles</em> (pp. 20â€“43).</p>
  </li>
  <li>
    <p>https://www.cs.princeton.edu/courses/archive/fall18/cos418/docs/p8-consistency.pdf</p>
  </li>
</ul>
:ET